function initializeSlider(){const e=document.querySelector(".projects-wrapper");document.querySelectorAll(".project-card");let t,o=0,c=0;function r(){t=setInterval((()=>{scrollProjects(1)}),5e3)}function s(){clearInterval(t)}e.addEventListener("touchstart",(e=>{o=e.changedTouches[0].screenX})),e.addEventListener("touchend",(e=>{c=e.changedTouches[0].screenX,o-c>50?scrollProjects(1):c-o>50&&scrollProjects(-1)})),r(),e.addEventListener("mouseenter",s),e.addEventListener("touchstart",s),e.addEventListener("mouseleave",r)}function createDots(){const e=document.querySelectorAll(".project-card"),t=document.querySelector(".dots"),o=e.length,c=getVisibleProjects(),r=Math.ceil(o/c);for(let e=0;e<r;e++){const o=document.createElement("div");o.classList.add("dot"),0===e&&o.classList.add("active"),o.addEventListener("click",(()=>{scrollToPage(e),updateActiveDot(e)})),t.appendChild(o)}}function getVisibleProjects(){const e=window.innerWidth;return e<480?2:e<768?3:e<1200?4:5}function scrollToPage(e){const t=document.querySelector(".projects-wrapper"),o=document.querySelectorAll(".project-card"),c=e*(getVisibleProjects()*(o[0].offsetWidth+parseInt(getComputedStyle(t).gap)));t.scrollTo({left:c,behavior:"smooth"}),updateActiveProject()}function scrollProjects(e){const t=document.querySelector(".projects-wrapper"),o=document.querySelectorAll(".project-card"),c=getVisibleProjects(),r=t.scrollLeft,s=o[0].offsetWidth,n=parseInt(getComputedStyle(t).gap),l=Math.round(r/((s+n)*c))+e,a=Math.ceil(o.length/c);l>=0&&l<a?(scrollToPage(l),updateActiveDot(l)):l<0?(scrollToPage(a-1),updateActiveDot(a-1)):(scrollToPage(0),updateActiveDot(0))}function updateActiveDot(e){document.querySelectorAll(".dot").forEach(((t,o)=>{o===e?t.classList.add("active"):t.classList.remove("active")}))}function updateActiveProject(){const e=document.querySelector(".projects-wrapper"),t=document.querySelectorAll(".project-card");t.forEach((e=>{e.classList.remove("active")}));const o=e.scrollLeft+e.offsetWidth/2;let c=null,r=1/0;t.forEach((e=>{const t=e.offsetLeft+e.offsetWidth/2,s=Math.abs(o-t);s<r&&(r=s,c=e)})),c&&c.classList.add("active")}function showButton(e){document.querySelectorAll(".project-card").forEach((e=>e.classList.remove("active"))),e.classList.add("active")}function openProject(e,t){e.stopPropagation();const o=t.closest(".project-card").dataset.url;o&&window.open(o,"_blank")}document.addEventListener("DOMContentLoaded",(()=>{initializeSlider(),createDots();const e=document.querySelector(".project-card");e&&e.classList.add("active")})),window.addEventListener("resize",(()=>{document.querySelector(".dots").innerHTML="",createDots(),updateActiveProject()})),document.querySelector(".projects-wrapper").addEventListener("scroll",(()=>{clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout((()=>{updateActiveProject();const e=document.querySelector(".projects-wrapper"),t=document.querySelectorAll(".project-card"),o=getVisibleProjects(),c=e.scrollLeft,r=t[0].offsetWidth,s=parseInt(getComputedStyle(e).gap);updateActiveDot(Math.round(c/((r+s)*o)))}),100)}));
